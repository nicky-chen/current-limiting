# flow-limiting 
高并发下限流方案：解决方案来自 ---kaitao-1234567


限流的手段:应用级限流 分布式限流 接入层限流

常见的限流算法有：令牌桶、漏桶。计数器也可以进行粗暴限流实现。

应用级限流

针对容器限制总并发/连接/请求数

通过对容器进行配置，限制TPS/QPS阀值，防止大量请求涌入击垮系统。

如果你使用过Tomcat，其Connector 其中一种配置有如下几个参数： 
acceptCount：如果Tomcat的线程都忙于响应，新来的连接会进入队列排队，如果超出排队大小，则拒绝连接； 
maxConnections：瞬时最大连接数，超出的会排队等待； 
maxThreads：Tomcat能启动用来处理请求的最大线程数，如果请求处理量一直远远大于最大线程数则可能会僵死 
详细的配置请参考官方文档。另外如Mysql（如max_connections）、Redis（如tcp-backlog）都会有类似的限制连接数的配置

针对接口进行并发控制

具体看代码

分布式限流

分布式系统也会有限流的需求。分布式服务关键需要把限流实现为原子化，解决方案可以使用Redis+Lua或者Nginx+Lua来实现。

后续优化内容：https://note.youdao.com/share/?id=971ee5056c6cf61d967e733830531cc3#/

